*.backup.brew.foo {
        tls {
                dns cloudflare <api_key>
                resolvers 1.1.1.1
        }

        # Test endpoint for Caddy health check
        @health-check host test.backup.brew.foo
        handle @health-check {
                respond /health-check 204
                respond 404
        }

        # Hydrogen proxmox node
        @hydrogen host hydrogen.backup.brew.foo
        handle @hydrogen {
                reverse_proxy https://10.0.10.40:8006 {
                        transport http {
                                tls
                                tls_insecure_skip_verify
                        }
                }
        }

        # Helium proxmox node
        @helium host helium.backup.brew.foo
        handle @helium {
                reverse_proxy https://10.0.10.20:8006 {
                        transport http {
                                tls
                                tls_insecure_skip_verify
                        }
                }
        }

        # Comet PoE IP KVM for Helium Proxmox Node
        @helium host helium-oob.backup.brew.foo
        handle @helium-oob {
                reverse_proxy https://10.0.99.22 {
                        transport http {
                                tls
                                tls_insecure_skip_verify
                        }
                }
        }

        # Guacamole
        @guacamole host guacamole.backup.brew.foo
        handle @guacamole {
                redir / /guacamole{uri}
                reverse_proxy 10.0.10.31:8080
        }

        # Eaton Network Card-MS on 5PX2200RT
        @eaton host eaton.backup.brew.foo
        handle @eaton {
                reverse_proxy 10.0.10.30
        }
}
